{
  "summary": {
    "label": "post-data-sync",
    "regression": {
      "best_model": "xgboost",
      "best_mae_cv": 0.5498846980539585,
      "best_r2": 0.2993061276430984,
      "best_rmse": 83.63494295666146,
      "best_mape": 34.147726681164286,
      "ensemble_rmse": 84.89130459731192,
      "ensemble_r2": 0.27809640407427016,
      "ensemble_mape": 35.5013908724774,
      "ensemble_range_macro_f1": 0.34704401143579183
    },
    "classification": {
      "model": "gb_classifier",
      "macro_f1": 0.5875168146354587,
      "balanced_accuracy": 0.5930799220272904,
      "accuracy": 0.5925925925925926,
      "features": 27,
      "diagnostics": {
        "grouped_cv": true,
        "hyperparam_tuning_enabled": true,
        "lgbm_classifier_available": true,
        "catboost_classifier_available": true,
        "sample_weighting_enabled": true,
        "probability_calibration": "logistic_oof",
        "threshold_tuning": "class_probability_multipliers"
      }
    },
    "selected_features_count": 21,
    "category_threshold_strategy": "fixed_default",
    "target_source_distribution": {
      "estimated_from_classifiche": 96,
      "real": 12
    },
    "quality_checks": {
      "status": "pass",
      "failed_checks": [],
      "warnings": [
        "estimated_target_ratio:0.889>0.700"
      ],
      "summary": {
        "rows": 108,
        "artists": 97,
        "years": [
          2020,
          2021,
          2022,
          2024
        ],
        "duplicate_artist_year_rows": 0,
        "target_missing_ratio": 0.0,
        "feature_missing_ratio_mean": 0.0,
        "feature_missing_ratio_max": 0.0,
        "drift_features_checked": [
          "bonus_count",
          "consistency_score",
          "longevity_bonus",
          "participations",
          "is_debuttante_x",
          "best_position",
          "peak_performance",
          "avg_position",
          "recent_avg",
          "median_position"
        ],
        "max_drift_feature": "best_position",
        "max_drift_score": 0.8273454335338406,
        "target_source_distribution": {
          "estimated_from_classifiche": 96,
          "real": 12
        },
        "estimated_target_ratio": 0.8888888888888888
      }
    },
    "best_params": {
      "rf": {
        "max_depth": 6,
        "max_features": 0.7,
        "min_samples_leaf": 1,
        "n_estimators": 100
      },
      "gb": {
        "learning_rate": 0.1,
        "max_depth": 3,
        "n_estimators": 80,
        "subsample": 1.0
      },
      "ridge": {
        "alpha": 5.0
      },
      "xgb": {
        "colsample_bytree": 0.7,
        "gamma": 0.1,
        "learning_rate": 0.1,
        "max_depth": 2,
        "min_child_weight": 2,
        "n_estimators": 500,
        "reg_alpha": 0.0,
        "reg_lambda": 10.0,
        "subsample": 0.6
      },
      "lgbm": {
        "learning_rate": 0.1,
        "max_depth": 4,
        "n_estimators": 120,
        "reg_lambda": 3.0
      }
    }
  },
  "baseline": {
    "label": "pre-data-review",
    "regression": {
      "best_model": "xgboost",
      "best_mae_cv": 0.5498846980539585,
      "best_r2": 0.2993061276430984,
      "best_rmse": 83.63494295666146,
      "best_mape": 34.147726681164286,
      "ensemble_rmse": 84.89130459731192,
      "ensemble_r2": 0.27809640407427016,
      "ensemble_mape": 35.5013908724774,
      "ensemble_range_macro_f1": 0.34704401143579183
    },
    "classification": {
      "model": "gb_classifier",
      "macro_f1": 0.5875168146354587,
      "balanced_accuracy": 0.5930799220272904,
      "accuracy": 0.5925925925925926,
      "features": 27,
      "diagnostics": {
        "grouped_cv": true,
        "hyperparam_tuning_enabled": true,
        "lgbm_classifier_available": true,
        "catboost_classifier_available": true,
        "sample_weighting_enabled": true,
        "probability_calibration": "logistic_oof",
        "threshold_tuning": "class_probability_multipliers"
      }
    },
    "selected_features_count": 21,
    "category_threshold_strategy": "fixed_default",
    "target_source_distribution": {
      "estimated_from_classifiche": 96,
      "real": 12
    },
    "quality_checks": {
      "status": "pass",
      "failed_checks": [],
      "warnings": [
        "estimated_target_ratio:0.889>0.700"
      ],
      "summary": {
        "rows": 108,
        "artists": 97,
        "years": [
          2020,
          2021,
          2022,
          2024
        ],
        "duplicate_artist_year_rows": 0,
        "target_missing_ratio": 0.0,
        "feature_missing_ratio_mean": 0.0,
        "feature_missing_ratio_max": 0.0,
        "drift_features_checked": [
          "bonus_count",
          "consistency_score",
          "longevity_bonus",
          "participations",
          "is_debuttante_x",
          "best_position",
          "peak_performance",
          "avg_position",
          "recent_avg",
          "median_position"
        ],
        "max_drift_feature": "best_position",
        "max_drift_score": 0.8273454335338406,
        "target_source_distribution": {
          "estimated_from_classifiche": 96,
          "real": 12
        },
        "estimated_target_ratio": 0.8888888888888888
      }
    },
    "best_params": {
      "rf": {
        "max_depth": 6,
        "max_features": 0.7,
        "min_samples_leaf": 1,
        "n_estimators": 100
      },
      "gb": {
        "learning_rate": 0.1,
        "max_depth": 3,
        "n_estimators": 80,
        "subsample": 1.0
      },
      "ridge": {
        "alpha": 5.0
      },
      "xgb": {
        "colsample_bytree": 0.7,
        "gamma": 0.1,
        "learning_rate": 0.1,
        "max_depth": 2,
        "min_child_weight": 2,
        "n_estimators": 500,
        "reg_alpha": 0.0,
        "reg_lambda": 10.0,
        "subsample": 0.6
      },
      "lgbm": {
        "learning_rate": 0.1,
        "max_depth": 4,
        "n_estimators": 120,
        "reg_lambda": 3.0
      }
    }
  },
  "comparison": {
    "approved": false,
    "rules": {
      "regression_pass": false,
      "classification_pass": false,
      "stability_pass": true
    },
    "deltas": {
      "mae_relative_improvement": 0.0,
      "rmse_relative_improvement": 0.0,
      "macro_f1_delta": 0.0,
      "balanced_accuracy_delta": 0.0
    },
    "thresholds": {
      "mae_improvement_required": 0.03,
      "rmse_improvement_required": 0.05,
      "macro_f1_delta_required": 0.04,
      "max_balanced_acc_drop": 0.02
    }
  }
}
